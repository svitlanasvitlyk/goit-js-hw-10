{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst inputDate = document.querySelector('#datetime-picker');\nconst button = document.querySelector('button');\nconst daysElement = document.querySelector('[data-days]');\nconst hoursElement = document.querySelector('[data-hours]');\nconst minutesElement = document.querySelector('[data-minutes]');\nconst secondsElement = document.querySelector('[data-seconds]');\n\nlet userSelectedDate = null;\n\nbutton.disabled = true;\n\nbutton.addEventListener('click', () => {\n  const intervalID = setInterval(() => {\n    const currentDate = Date.now();\n    const remainingTime = userSelectedDate - currentDate;\n\n    if (remainingTime <= 0) {\n      clearInterval(intervalID);\n      inputDate.disabled = false;\n      return;\n    }\n    const time = convertMs(remainingTime);\n    daysElement.textContent = time.days;\n    hoursElement.textContent = time.hours;\n    minutesElement.textContent = time.minutes;\n    secondsElement.textContent = time.seconds;\n    button.disabled = true;\n    inputDate.disabled = true;\n  }, 1000);\n});\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    console.log(selectedDates[0]);\n    userSelectedDate = selectedDates[0].getTime();\n    const currentDate = Date.now();\n    console.log(currentDate);\n    if (userSelectedDate <= currentDate) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please choose a date in the future',\n      });\n      button.disabled = true;\n    } else {\n      button.disabled = false;\n    }\n  },\n};\n\nflatpickr(inputDate, options);\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return {\n    days: addLeadingZero(days),\n    hours: addLeadingZero(hours),\n    minutes: addLeadingZero(minutes),\n    seconds: addLeadingZero(seconds),\n  };\n}\n\nfunction addLeadingZero(value) {\n  return String(value).padStart(2, '0');\n}\n\niziToast.settings({\n  timeout: 4000,\n  resetOnHover: true,\n  //   icon: 'material-icons',\n  transitionIn: 'flipInX',\n  transitionOut: 'flipOutX',\n  position: 'topRight',\n  onOpening: function () {},\n  onClosing: function () {},\n});\n"],"names":["inputDate","button","daysElement","hoursElement","minutesElement","secondsElement","userSelectedDate","intervalID","currentDate","remainingTime","time","convertMs","options","selectedDates","iziToast","flatpickr","ms","days","hours","minutes","seconds","addLeadingZero","value"],"mappings":"sGAMA,MAAMA,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAS,SAAS,cAAc,QAAQ,EACxCC,EAAc,SAAS,cAAc,aAAa,EAClDC,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAiB,SAAS,cAAc,gBAAgB,EACxDC,EAAiB,SAAS,cAAc,gBAAgB,EAE9D,IAAIC,EAAmB,KAEvBL,EAAO,SAAW,GAElBA,EAAO,iBAAiB,QAAS,IAAM,CACrC,MAAMM,EAAa,YAAY,IAAM,CACnC,MAAMC,EAAc,KAAK,MACnBC,EAAgBH,EAAmBE,EAEzC,GAAIC,GAAiB,EAAG,CACtB,cAAcF,CAAU,EACxBP,EAAU,SAAW,GACrB,MACD,CACD,MAAMU,EAAOC,EAAUF,CAAa,EACpCP,EAAY,YAAcQ,EAAK,KAC/BP,EAAa,YAAcO,EAAK,MAChCN,EAAe,YAAcM,EAAK,QAClCL,EAAe,YAAcK,EAAK,QAClCT,EAAO,SAAW,GAClBD,EAAU,SAAW,EACtB,EAAE,GAAI,CACT,CAAC,EAED,MAAMY,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,QAAQ,IAAIA,EAAc,CAAC,CAAC,EAC5BP,EAAmBO,EAAc,CAAC,EAAE,QAAO,EAC3C,MAAML,EAAc,KAAK,MACzB,QAAQ,IAAIA,CAAW,EACnBF,GAAoBE,GACtBM,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oCACjB,CAAO,EACDb,EAAO,SAAW,IAElBA,EAAO,SAAW,EAErB,CACH,EAEAc,EAAUf,EAAWY,CAAO,EAE5B,SAASD,EAAUK,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CACL,KAAMK,EAAeJ,CAAI,EACzB,MAAOI,EAAeH,CAAK,EAC3B,QAASG,EAAeF,CAAO,EAC/B,QAASE,EAAeD,CAAO,CACnC,CACA,CAEA,SAASC,EAAeC,EAAO,CAC7B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACtC,CAEAR,EAAS,SAAS,CAChB,QAAS,IACT,aAAc,GAEd,aAAc,UACd,cAAe,WACf,SAAU,WACV,UAAW,UAAY,CAAE,EACzB,UAAW,UAAY,CAAE,CAC3B,CAAC"}